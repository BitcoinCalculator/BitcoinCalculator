<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Time Currency ‚Äî Remaining Owned Time Calculator</title>
<style>
  * { box-sizing: border-box; }
  body {
    font-family: "Helvetica Neue", Arial, sans-serif;
    background:#f9fafb;
    color:#1a1a1a;
    margin:0;
  }
  header {
    background:#111;
    color:#f9fafb;
    padding:1.6rem 1rem;
    text-align:center;
    box-shadow:0 2px 8px rgba(0,0,0,.3);
  }
  header h1 { margin:0 0 .25rem; font-size:2rem; }
  header p { margin:0; opacity:.9; }

  main { max-width:1100px; margin:2rem auto; padding:0 20px; }

  .calculator { background:#fff; padding:20px; border-radius:12px; box-shadow:0 2px 10px rgba(0,0,0,.08);}
  .grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(240px,1fr)); gap:14px;}
  .form-group { display:flex; flex-direction:column; }
  label { font-weight:600; color:#333; margin-bottom:6px;}

  input[type="number"], select {
    padding:10px; border:1px solid #ccc; border-radius:8px; font-size:14px; background:#fff;
  }

  .btn-row { display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }
  button {
    border:0; padding:12px 16px; border-radius:8px; cursor:pointer;
    font-size:15px; font-weight:700;
  }
  #calcButton { background:#f7931a; color:#fff; width:100%; margin-top:8px; }
  #calcButton:hover { background:#e07c12; }
  #resetButton { background:#6c757d; color:#fff; }
  #resetButton:hover { background:#5a6268; }

  #result, #error, #bonus { margin-top:16px; }
  #result { display:none; background:#e9ecef; padding:14px; border-radius:8px;}
  #bonus  { display:none; background:#e7f7ee; padding:14px; border-radius:8px; border:1px solid rgba(0,0,0,.06);}
  #error  { color:#c62828; }

  .note { font-size:13px; color:#666; margin-top:6px; line-height:1.35; }

  .disease-row { display:flex; gap:10px; align-items:center; }
  .disease-row select { flex: 1; }
  .remove-btn {
    background:#dc3545; color:#fff; padding:10px 12px; border-radius:8px; font-weight:800;
  }
  .remove-btn:hover { background:#b92b37; }

  .kpi {
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap:10px;
    margin-top:12px;
  }
  .kpi .card {
    background:#fff;
    border:1px solid rgba(0,0,0,.06);
    border-radius:10px;
    padding:12px;
  }
  .kpi .card .big { font-size:20px; font-weight:800; }
  .kpi .card .small { font-size:13px; color:#666; margin-top:4px; }

  footer { text-align:center; padding:1.5rem; color:#666; }
</style>
</head>
<body>
  <header>
    <h1>Time Currency</h1>
    <p>Estimate how much waking time you truly own ‚Äî before it‚Äôs spent.</p>
  </header>

  <main>
    <div class="calculator">
      <div class="grid">
        <div class="form-group">
          <label for="age">Current Age (years)</label>
          <input type="number" id="age" min="0" max="120" step="0.1" required>
        </div>

        <div class="form-group">
          <label for="gender">Gender</label>
          <select id="gender">
            <option value="male">Male</option>
            <option value="female">Female</option>
          </select>
        </div>

        <div class="form-group">
          <label for="country">Country</label>
          <select id="country">
            <option value="">Select a country‚Ä¶</option>
          </select>
        </div>

        <div class="form-group">
          <label for="retireAge">Retirement Age (years)</label>
          <input type="number" id="retireAge" min="0" max="120" step="0.5" value="65" required>
          <div class="note">If this is lower than your current age, we assume you‚Äôre already retired.</div>
        </div>

        <div class="form-group">
          <label for="workHoursPerWeek">Work Hours / Week</label>
          <input type="number" id="workHoursPerWeek" min="0" max="120" step="0.5" value="40" required>
        </div>

        <div class="form-group">
          <label for="weeksPerYearWorked">Weeks Worked / Year</label>
          <input type="number" id="weeksPerYearWorked" min="0" max="52" step="1" value="48" required>
        </div>

        <div class="form-group">
          <label for="sleepHours">Sleep Hours / Day</label>
          <input type="number" id="sleepHours" value="8" disabled>
          <div class="note">Fixed at 8 for simplicity (waking time is your spendable currency).</div>
        </div>

        <div class="form-group">
          <label>Chronic Conditions (auto-add)</label>
          <div id="diseaseContainer"></div>
          <div class="note">Pick a condition ‚Üí a new dropdown appears for adding another. Remove if needed.</div>
        </div>
      </div>

      <div class="btn-row">
        <button id="calcButton">Calculate Remaining Owned Time</button>
        <button id="resetButton" type="button">Reset</button>
      </div>

      <div class="note">
        Data model:
        <strong>Base life expectancy</strong> comes from your country + sex snapshot (stored in this page).
        Then we subtract estimated impact from selected chronic conditions (ballpark).
        This is motivational/educational, not medical advice.
        <br/>
        ‚ÄúOwned time‚Äù = waking hours remaining ‚àí work hours remaining until retirement.
      </div>

      <div id="error"></div>

      <div id="bonus">
        <div style="font-weight:900; font-size:18px;">üéâ Congratulations ‚Äî you‚Äôre living on bonus time.</div>
        <div id="bonusText" style="margin-top:8px;"></div>
      </div>

      <div id="result"></div>
    </div>
  </main>

  <footer>
    <p>&copy; 2026 The Bitcoiner's Calculators</p>
  </footer>

<script>
/**
 * ------------------------------------------------------------
 * Life Expectancy Data (Snapshot ~50+ common countries)
 * Stored locally (no fetch, no JSON file needed)
 * Values are life expectancy at birth (years), male/female.
 * ------------------------------------------------------------
 */
const LIFE_DATA = {
  meta: { source: "Snapshot (stored in-page)", note: "Point-in-time estimates." },
  countries: [
    // North America
    { name:"United States", code:"USA", male:74.8, female:80.2 },
    { name:"Canada", code:"CAN", male:79.8, female:83.9 },
    { name:"Mexico", code:"MEX", male:70.9, female:76.9 },

    // Central America / Caribbean
    { name:"El Salvador", code:"SLV", male:69.4, female:77.4 },
    { name:"Guatemala", code:"GTM", male:69.1, female:75.5 },
    { name:"Honduras", code:"HND", male:69.6, female:75.6 },
    { name:"Costa Rica", code:"CRI", male:78.4, female:83.2 },
    { name:"Panama", code:"PAN", male:74.3, female:80.4 },
    { name:"Dominican Republic", code:"DOM", male:70.7, female:77.4 },
    { name:"Jamaica", code:"JAM", male:71.4, female:76.1 },

    // South America
    { name:"Brazil", code:"BRA", male:71.9, female:79.2 },
    { name:"Argentina", code:"ARG", male:72.4, female:79.3 },
    { name:"Chile", code:"CHL", male:77.0, female:82.3 },
    { name:"Colombia", code:"COL", male:72.3, female:78.5 },
    { name:"Peru", code:"PER", male:72.7, female:78.4 },
    { name:"Ecuador", code:"ECU", male:73.0, female:79.1 },
    { name:"Uruguay", code:"URY", male:73.9, female:81.4 },

    // Western / Northern Europe
    { name:"United Kingdom", code:"GBR", male:79.1, female:82.8 },
    { name:"Ireland", code:"IRL", male:80.2, female:83.8 },
    { name:"France", code:"FRA", male:79.5, female:85.3 },
    { name:"Germany", code:"DEU", male:78.7, female:83.3 },
    { name:"Netherlands", code:"NLD", male:79.9, female:83.2 },
    { name:"Belgium", code:"BEL", male:78.9, female:83.8 },
    { name:"Switzerland", code:"CHE", male:81.8, female:85.6 },
    { name:"Austria", code:"AUT", male:78.9, female:84.0 },
    { name:"Spain", code:"ESP", male:80.3, female:85.6 },
    { name:"Portugal", code:"PRT", male:78.9, female:84.7 },
    { name:"Italy", code:"ITA", male:80.7, female:85.3 },
    { name:"Sweden", code:"SWE", male:80.7, female:84.4 },
    { name:"Norway", code:"NOR", male:80.8, female:84.4 },
    { name:"Denmark", code:"DNK", male:79.5, female:83.4 },
    { name:"Finland", code:"FIN", male:79.0, female:84.3 },

    // Central / Eastern Europe
    { name:"Poland", code:"POL", male:73.9, female:81.7 },
    { name:"Czechia", code:"CZE", male:75.9, female:81.9 },
    { name:"Hungary", code:"HUN", male:72.7, female:79.4 },
    { name:"Romania", code:"ROU", male:71.6, female:79.2 },
    { name:"Greece", code:"GRC", male:78.6, female:83.9 },
    { name:"Russia", code:"RUS", male:66.1, female:76.1 },
    { name:"Ukraine", code:"UKR", male:67.0, female:76.7 },

    // Middle East
    { name:"Turkey", code:"TUR", male:75.6, female:81.3 },
    { name:"Israel", code:"ISR", male:81.0, female:84.6 },
    { name:"Saudi Arabia", code:"SAU", male:74.6, female:77.8 },
    { name:"United Arab Emirates", code:"ARE", male:78.6, female:80.8 },
    { name:"Qatar", code:"QAT", male:79.2, female:82.1 },
    { name:"Jordan", code:"JOR", male:72.0, female:76.1 },

    // South Asia
    { name:"India", code:"IND", male:67.5, female:70.2 },
    { name:"Pakistan", code:"PAK", male:64.2, female:66.3 },
    { name:"Bangladesh", code:"BGD", male:71.2, female:74.3 },
    { name:"Sri Lanka", code:"LKA", male:73.4, female:79.3 },
    { name:"Nepal", code:"NPL", male:69.3, female:72.5 },

    // East / Southeast Asia
    { name:"China", code:"CHN", male:75.0, female:80.7 },
    { name:"Japan", code:"JPN", male:81.6, female:87.5 },
    { name:"South Korea", code:"KOR", male:81.2, female:86.7 },
    { name:"Singapore", code:"SGP", male:81.3, female:85.7 },
    { name:"Thailand", code:"THA", male:71.7, female:79.4 },
    { name:"Vietnam", code:"VNM", male:69.4, female:77.6 },
    { name:"Philippines", code:"PHL", male:67.2, female:73.7 },
    { name:"Indonesia", code:"IDN", male:68.9, female:73.3 },
    { name:"Malaysia", code:"MYS", male:72.7, female:77.4 },

    // Oceania
    { name:"Australia", code:"AUS", male:81.3, female:85.2 },
    { name:"New Zealand", code:"NZL", male:80.0, female:83.6 },

    // Africa
    { name:"South Africa", code:"ZAF", male:60.7, female:67.3 },
    { name:"Nigeria", code:"NGA", male:53.5, female:55.0 },
    { name:"Egypt", code:"EGY", male:69.1, female:74.2 },
    { name:"Morocco", code:"MAR", male:73.5, female:76.7 },
    { name:"Kenya", code:"KEN", male:62.9, female:67.6 },
    { name:"Ghana", code:"GHA", male:62.4, female:65.7 },
    { name:"Ethiopia", code:"ETH", male:65.7, female:69.5 }
  ]
};

/**
 * ------------------------------------------------------------
 * Chronic Conditions (30 common) ‚Äî ballpark ‚Äúyears subtracted‚Äù
 * ------------------------------------------------------------
 */
const DISEASES = [
  { key:"none", label:"None / Prefer not to say", yearsLost:0 },
  { key:"hypertension", label:"Hypertension (high blood pressure)", yearsLost:1.0 },
  { key:"type2diabetes", label:"Type 2 Diabetes", yearsLost:3.5 },
  { key:"type1diabetes", label:"Type 1 Diabetes", yearsLost:6.0 },
  { key:"coronary_artery_disease", label:"Coronary artery disease", yearsLost:4.0 },
  { key:"heart_failure", label:"Heart failure", yearsLost:5.0 },
  { key:"stroke_history", label:"Stroke (history of)", yearsLost:4.5 },
  { key:"copd", label:"COPD", yearsLost:5.0 },
  { key:"asthma_severe", label:"Asthma (severe/persistent)", yearsLost:1.0 },
  { key:"chronic_kidney_disease", label:"Chronic kidney disease", yearsLost:5.0 },
  { key:"cancer_history", label:"Cancer (history of / active)", yearsLost:4.0 },
  { key:"cirrhosis", label:"Cirrhosis / chronic liver disease", yearsLost:6.0 },
  { key:"hiv", label:"HIV", yearsLost:4.0 },
  { key:"obesity", label:"Obesity", yearsLost:2.0 },
  { key:"sleep_apnea", label:"Sleep apnea", yearsLost:1.0 },
  { key:"depression_severe", label:"Depression (severe)", yearsLost:1.0 },
  { key:"substance_use", label:"Substance use disorder", yearsLost:6.0 },
  { key:"smoker", label:"Smoking (current)", yearsLost:7.0 },
  { key:"high_cholesterol", label:"High cholesterol (uncontrolled)", yearsLost:1.0 },
  { key:"afib", label:"Atrial fibrillation", yearsLost:2.0 },
  { key:"autoimmune", label:"Autoimmune disease (e.g., RA/Lupus)", yearsLost:2.0 },
  { key:"dementia_risk", label:"Neurodegenerative disease (risk/early)", yearsLost:4.0 },
  { key:"parkinsons", label:"Parkinson‚Äôs disease", yearsLost:3.0 },
  { key:"epilepsy", label:"Epilepsy", yearsLost:1.0 },
  { key:"tb_history", label:"Tuberculosis (history/complications)", yearsLost:1.5 },
  { key:"sickle_cell", label:"Sickle cell disease", yearsLost:15.0 },
  { key:"hemophilia", label:"Hemophilia (moderate/severe)", yearsLost:2.0 },
  { key:"ibd", label:"Inflammatory bowel disease", yearsLost:1.0 },
  { key:"osteoporosis_severe", label:"Osteoporosis (severe)", yearsLost:0.5 },
  { key:"anxiety_severe", label:"Anxiety disorder (severe)", yearsLost:0.5 },
  { key:"other_chronic", label:"Other chronic condition (unspecified)", yearsLost:1.5 }
];

const WEIGHTS = [1.0, 0.60, 0.45, 0.35, 0.25, 0.20, 0.15, 0.12, 0.10, 0.08];

/**
 * ------------------------------------------------------------
 * UI Setup
 * ------------------------------------------------------------
 */
document.getElementById('calcButton').addEventListener('click', (e) => {
  e.preventDefault();
  calculate();
});
document.getElementById('resetButton').addEventListener('click', () => resetAll());

init();

function init() {
  populateCountrySelect();
  initDiseaseRows();
}

function populateCountrySelect() {
  const sel = document.getElementById('country');
  sel.innerHTML = '<option value="">Select a country‚Ä¶</option>';

  const sorted = [...LIFE_DATA.countries].sort((a,b) => a.name.localeCompare(b.name));
  sorted.forEach(c => {
    const opt = document.createElement('option');
    opt.value = c.code;
    opt.textContent = c.name;
    sel.appendChild(opt);
  });

  if (sorted.some(x => x.code === 'USA')) sel.value = 'USA';
}

function initDiseaseRows() {
  const container = document.getElementById('diseaseContainer');
  container.innerHTML = '';
  addDiseaseRow(true);
}

function addDiseaseRow(isFirst=false) {
  const container = document.getElementById('diseaseContainer');
  const row = document.createElement('div');
  row.className = 'disease-row';

  const select = document.createElement('select');
  DISEASES.forEach(d => {
    const opt = document.createElement('option');
    opt.value = d.key;
    opt.textContent = d.label;
    select.appendChild(opt);
  });
  select.value = 'none';

  select.addEventListener('change', () => {
    const rows = [...container.querySelectorAll('.disease-row')];
    const isLast = rows[rows.length - 1] === row;
    if (isLast && select.value !== 'none') addDiseaseRow(false);
  });

  row.appendChild(select);

  if (!isFirst) {
    const remove = document.createElement('button');
    remove.type = 'button';
    remove.className = 'remove-btn';
    remove.textContent = '‚Äì';
    remove.title = 'Remove this condition';
    remove.addEventListener('click', () => {
      row.remove();
      ensureTrailingEmptyRow();
    });
    row.appendChild(remove);
  }

  container.appendChild(row);
  ensureTrailingEmptyRow();
}

function ensureTrailingEmptyRow() {
  const container = document.getElementById('diseaseContainer');
  const rows = [...container.querySelectorAll('.disease-row')];
  if (!rows.length) { addDiseaseRow(true); return; }
  const lastSelect = rows[rows.length - 1].querySelector('select');
  if (lastSelect && lastSelect.value !== 'none') addDiseaseRow(false);
}

/**
 * ------------------------------------------------------------
 * Core Calculation
 * ------------------------------------------------------------
 * Owned time is computed ONLY as waking hours.
 * Sleep is subtracted by using waking-hours-per-day (16).
 * Output conversions (months/years) are based on standard calendar
 * time units (24h/day), to avoid confusing "16-hour-day years".
 * ------------------------------------------------------------
 */
function calculate() {
  const errorDiv = document.getElementById('error');
  const resultDiv = document.getElementById('result');
  const bonusDiv = document.getElementById('bonus');
  const bonusText = document.getElementById('bonusText');

  errorDiv.textContent = '';
  resultDiv.style.display = 'none';
  bonusDiv.style.display = 'none';
  resultDiv.innerHTML = '';
  bonusText.innerHTML = '';

  const inputs = getInputs();
  const errs = validate(inputs);
  if (errs.length) { errorDiv.textContent = errs.join(' '); return; }

  const baseLE = lookupLifeExpectancy(inputs.countryCode, inputs.gender);
  if (!baseLE) { errorDiv.textContent = 'Life expectancy data not found for that country.'; return; }

  const conditionYearsLost = computeConditionYearsLost(inputs.diseases);
  const estimatedDeathAge = clamp(baseLE - conditionYearsLost, 30, 130);

  const remainingCalendarYears = estimatedDeathAge - inputs.age;

  // Waking-only constants
  const SLEEP_HOURS_PER_DAY = 8;
  const WAKING_HOURS_PER_DAY = 24 - SLEEP_HOURS_PER_DAY; // 16
  const DAYS_PER_YEAR = 365.25;
  const WAKING_HOURS_PER_YEAR = WAKING_HOURS_PER_DAY * DAYS_PER_YEAR;

  // Bonus time (past estimate)
  if (remainingCalendarYears <= 0) {
    const bonusYears = Math.abs(remainingCalendarYears);
    const bonusOwnedHours = bonusYears * WAKING_HOURS_PER_YEAR;

    bonusDiv.style.display = 'block';
    bonusText.innerHTML = `
      You‚Äôve exceeded this estimate by <strong>${bonusYears.toFixed(1)} years</strong>.<br/>
      That‚Äôs roughly <strong>${formatInt(bonusOwnedHours)} waking hours</strong> of bonus time already lived.
      <div class="note" style="margin-top:8px;">
        (This tool uses broad population averages. Real life is personal ‚Äî keep stacking good decisions.)
      </div>
    `;
    return;
  }

  // 1) Total waking hours remaining (sleep already removed)
  const totalWakingHoursRemaining = remainingCalendarYears * WAKING_HOURS_PER_YEAR;

  // 2) Subtract work hours until retirement (if already retired, yearsToRetire = 0)
  const yearsToRetire = Math.max(0, inputs.retireAge - inputs.age);
  const workHoursRemaining = yearsToRetire * inputs.workHoursPerWeek * inputs.weeksPerYearWorked;

  // 3) Owned waking hours (the "Time Currency")
  const ownedWakingHours = Math.max(0, totalWakingHoursRemaining - workHoursRemaining);

  // 4) Convert owned waking hours into standard calendar time units (24h/day) for readability
  const HOURS_PER_YEAR = 24 * DAYS_PER_YEAR;           // 8766
  const HOURS_PER_MONTH = HOURS_PER_YEAR / 12;         // 730.5
  const ownedMonths = ownedWakingHours / HOURS_PER_MONTH;
  const ownedYears  = ownedWakingHours / HOURS_PER_YEAR;

  resultDiv.style.display = 'block';
  resultDiv.innerHTML = `
    <div style="font-weight:900; font-size:18px;">‚è≥ Your Remaining Owned Time</div>
    <div class="note" style="margin-top:6px;">
      Base life expectancy (country + gender): <strong>${baseLE.toFixed(1)}</strong> yrs
      ‚Ä¢ Conditions: ‚àí<strong>${conditionYearsLost.toFixed(1)}</strong> yrs
      ‚Üí Estimated age at death: <strong>${estimatedDeathAge.toFixed(1)}</strong> yrs
    </div>

    <div class="kpi">
      <div class="card">
        <div class="big">${formatInt(ownedWakingHours)} hours</div>
        <div class="small">Owned waking hours remaining (sleep excluded, work subtracted)</div>
      </div>
      <div class="card">
        <div class="big">${ownedMonths.toFixed(1)} months</div>
        <div class="small">Months of time represented by your owned waking hours</div>
      </div>
      <div class="card">
        <div class="big">${ownedYears.toFixed(1)} years</div>
        <div class="small">Years of time represented by your owned waking hours</div>
      </div>
      <div class="card">
        <div class="big">${formatInt(workHoursRemaining)} hours</div>
        <div class="small">Work hours remaining until retirement (0 if already retired)</div>
      </div>
    </div>

    <div class="note" style="margin-top:12px;">
      Reminder: you spend this currency every minute you‚Äôre awake. The point isn‚Äôt fear ‚Äî it‚Äôs focus.
    </div>
  `;
}

function getInputs() {
  const v = (id) => document.getElementById(id).value;

  const diseases = [...document.querySelectorAll('#diseaseContainer select')]
    .map(s => s.value)
    .filter(x => x && x !== 'none');

  return {
    age: parseFloat(v('age')),
    gender: v('gender'),
    countryCode: v('country'),
    retireAge: parseFloat(v('retireAge')),
    workHoursPerWeek: parseFloat(v('workHoursPerWeek')),
    weeksPerYearWorked: parseFloat(v('weeksPerYearWorked')),
    diseases
  };
}

function validate(i) {
  const err = [];
  if (isNaN(i.age) || i.age < 0 || i.age > 120) err.push('Age must be 0‚Äì120.');
  if (!i.countryCode) err.push('Select a country.');
  if (!['male','female'].includes(i.gender)) err.push('Select a gender.');
  if (isNaN(i.retireAge) || i.retireAge < 0 || i.retireAge > 120) err.push('Retirement age must be 0‚Äì120.');

  // If retireAge < age, we assume already retired (no error)

  if (isNaN(i.workHoursPerWeek) || i.workHoursPerWeek < 0 || i.workHoursPerWeek > 120) err.push('Work hours/week must be 0‚Äì120.');
  if (isNaN(i.weeksPerYearWorked) || i.weeksPerYearWorked < 0 || i.weeksPerYearWorked > 52) err.push('Weeks/year must be 0‚Äì52.');
  return err;
}

function lookupLifeExpectancy(code, gender) {
  const c = LIFE_DATA.countries.find(x => x.code === code);
  if (!c) return null;
  const le = gender === 'female' ? c.female : c.male;
  return (typeof le === 'number' && isFinite(le)) ? le : null;
}

function computeConditionYearsLost(keys) {
  if (!keys || !keys.length) return 0;

  const values = keys
    .map(k => DISEASES.find(d => d.key === k))
    .filter(Boolean)
    .map(d => d.yearsLost)
    .filter(x => typeof x === 'number' && x > 0)
    .sort((a,b) => b - a);

  let total = 0;
  for (let idx = 0; idx < values.length; idx++) {
    const w = (idx < WEIGHTS.length) ? WEIGHTS[idx] : WEIGHTS[WEIGHTS.length - 1];
    total += values[idx] * w;
  }
  return clamp(total, 0, 25);
}

function resetAll() {
  document.getElementById('age').value = '';
  document.getElementById('gender').value = 'male';
  if ([...document.querySelectorAll('#country option')].some(o => o.value === 'USA')) {
    document.getElementById('country').value = 'USA';
  } else {
    document.getElementById('country').value = '';
  }

  document.getElementById('retireAge').value = 65;
  document.getElementById('workHoursPerWeek').value = 40;
  document.getElementById('weeksPerYearWorked').value = 48;

  initDiseaseRows();

  document.getElementById('error').textContent = '';
  document.getElementById('result').style.display = 'none';
  document.getElementById('bonus').style.display = 'none';
}

function clamp(x, a, b){ return Math.max(a, Math.min(b, x)); }
function formatInt(n){ return Math.round(n).toLocaleString(); }
</script>
</body>
</html>
